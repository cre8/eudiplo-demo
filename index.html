<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wine Shop - Age Verification Demo</title>
  <link rel="stylesheet" href="/src/styles.css">
</head>
<body>
  <div class="shop">
    <!-- Header -->
    <header class="header">
      <div class="logo">üç∑ Vino Select</div>
      <nav>
        <a href="#">Shop</a>
        <a href="#">About</a>
        <a href="#">Contact</a>
      </nav>
    </header>

    <!-- Product Section -->
    <main class="main">
      <section class="product" id="productSection">
        <div class="product-image">
          <img src="https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=500&fit=crop" alt="Premium Red Wine">
        </div>
        <div class="product-info">
          <span class="product-badge">Best Seller</span>
          <h1>Ch√¢teau Margaux 2018</h1>
          <p class="product-description">
            An exceptional vintage with notes of blackcurrant, violet, and subtle oak. 
            Perfect for special occasions or as a collector's item.
          </p>
          <div class="product-meta">
            <span>üçá Cabernet Sauvignon</span>
            <span>üìç Bordeaux, France</span>
            <span>üå°Ô∏è Serve at 16-18¬∞C</span>
          </div>
          <div class="product-price">‚Ç¨89.00</div>
          <button id="buyButton" class="btn-primary">Add to Cart</button>
          <p class="age-notice">üîû You must be 18+ to purchase alcohol</p>
        </div>
      </section>

      <!-- Age Verification Modal -->
      <div id="verificationModal" class="modal hidden">
        <div class="modal-content">
          <div class="modal-header">
            <h2>üîê Age Verification Required</h2>
            <p>Please verify your age using your EUDI wallet to continue</p>
          </div>
          
          <div id="qrSection" class="qr-section">
            <canvas id="qrCode"></canvas>
            <p class="qr-instruction">Scan with your EUDI wallet app</p>
            <div class="status" id="status">
              <span class="status-dot"></span>
              <span id="statusText">Waiting for verification...</span>
            </div>
          </div>

          <div id="successSection" class="success-section hidden">
            <div class="success-icon">‚úÖ</div>
            <h3>Age Verified!</h3>
            <p id="welcomeMessage">Welcome! You can now purchase alcohol.</p>
            <button id="continueButton" class="btn-primary">Continue to Checkout</button>
          </div>

          <div id="errorSection" class="error-section hidden">
            <div class="error-icon">‚ùå</div>
            <h3>Verification Failed</h3>
            <p id="errorMessage">Unable to verify your age.</p>
            <button id="retryButton" class="btn-secondary">Try Again</button>
          </div>

          <button id="closeModal" class="modal-close">√ó</button>
        </div>
      </div>

      <!-- Checkout Success -->
      <section id="checkoutSection" class="checkout-section hidden">
        <div class="checkout-success">
          <div class="success-animation">üéâ</div>
          <h2>Thank you for your order!</h2>
          <p>Your Ch√¢teau Margaux 2018 will be shipped within 2-3 business days.</p>
          <div class="order-summary">
            <div class="order-item">
              <span>Ch√¢teau Margaux 2018</span>
              <span>‚Ç¨89.00</span>
            </div>
            <div class="order-item">
              <span>Shipping</span>
              <span>Free</span>
            </div>
            <div class="order-total">
              <span>Total</span>
              <span>‚Ç¨89.00</span>
            </div>
          </div>
          <button id="newOrderButton" class="btn-secondary">Back to Shop</button>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <p>Demo powered by <a href="https://github.com/openwallet-foundation-labs/eudiplo" target="_blank">EUDIPLO</a></p>
      <p class="disclaimer">This is a demo application. No real purchases are made.</p>
    </footer>
  </div>

  <script type="module" src="/src/app.ts"></script>
</body>
</html>
